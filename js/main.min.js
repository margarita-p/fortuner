!function(o){"use strict";o(function(){o(".js-button-top").on("click",function(){o("html, body").animate({scrollTop:0},"slow")})})}(jQuery),function(e){"use strict";e(function(){var o=e(".js-button-dropdown"),t=e(".text-dropdown"),s="open";o.click(function(){e(this).parents(".js-dropdown").find(t).toggleClass(s),e(this).toggleClass(s)})})}(jQuery),function(o){"use strict";o(function(){parseInt(o(window).width())<768&&o(".js-slick-features").slick({infinite:!0,arrows:!0,dots:!0,dotsClass:"features__slick-dots slick-dots",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,autoplayHoverPause:!0,swipeToSlide:!0,centerMode:!1,prevArrow:'<button class="features__slick-button features__slick-button_prev slick-button slick-button_prev" type="button"></button>',nextArrow:'<button class="features__slick-button features__slick-button_next slick-button slick-button_next" type="button"></button>'})})}(jQuery),function(s){"use strict";s(function(){var o=s(".header"),t="fixed";s(window).scroll(function(){300<s(this).scrollTop()?o.addClass(t):s(this).scrollTop()<=300&&o.hasClass(t)&&o.removeClass(t)})})}(jQuery),function(a){"use strict";a(function(){var t=a(".header__main-nav"),s=a(".js-toggle-nav"),e="open",n=a(".overlay"),i=a(".modal");s.on("click",function(o){o.preventDefault(),i.hasClass(e)||(t.toggleClass(e),a(this).toggleClass(e),n.toggleClass(e))});a(document).on("keyup",function(o){o.keyCode==window.system.ESC&&(t.removeClass(e),s.removeClass(e),n.removeClass(e))})})}(jQuery),document.querySelector("#map")&&ymaps.ready(function(){var o=new ymaps.Map("map",{center:[55.802249,37.549884],zoom:16,scrollZoom:!1,controls:[]},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark([55.802249,37.549884],{balloonContent:"Москва, 1-я улица 8 Марта, 3к2"},{iconLayout:"default#image",iconImageHref:"assets/images/fortuner/pin-icon.png",iconImageSize:[80,46],iconImageOffset:[-40,-46]});o.geoObjects.add(t),o.behaviors.disable("scrollZoom"),o.controls.add("zoomControl"),o.controls.get("zoomControl").state.get("size"),o.controls.get("zoomControl").options.set("size","small")}),function(o){"use strict";o(function(){o(".js-date").mask("99/99/9999"),o(".js-year").mask("9999"),o(".js-phone").mask("+7(999) 999-99-99")})}(jQuery),function(c){"use strict";c(function(){var o=c(".js-open-order"),t=c(".js-close-modal"),s=c(".modal"),e=c(".overlay"),n="open",i=c(".header__main-nav"),a=function(){s.removeClass(n),e.removeClass(n)};o.on("click",function(){i.hasClass(n)||(s.addClass(n),e.addClass(n))}),t.on("click",function(){a()}),c(document).on("keyup",function(o){o.keyCode==window.system.ESC&&a()})})}(jQuery),function(e){"use strict";e(function(){var o=e(".js-button-stock"),t=e(".js-content-stock"),s="open";o.click(function(){e(this).parents(".js-stock").find(t).toggleClass(s),e(this).toggleClass(s)})})}(jQuery),function(o){"use strict";jQuery(function(){window.objectFitImages(),window.svg4everybody(),window.system={ESC:27,MEDIUM:767}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1dHRvbi10b3AuanMiLCJkcm9wZG93bi5qcyIsImZlYXR1cmVzLmpzIiwiaGVhZGVyLmpzIiwibWFpbi1uYXYuanMiLCJtYXAuanMiLCJtYXNrZWRpbnB1dC5qcyIsIm1vZGFsLmpzIiwic3RvY2suanMiLCJzeXN0ZW0uanMiXSwibmFtZXMiOlsiJCIsIm9uIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImpRdWVyeSIsImJ1dHRvbiIsInRleHRDb250ZW50Iiwib3BlbkNsYXNzIiwiY2xpY2siLCJ0aGlzIiwicGFyZW50cyIsImZpbmQiLCJ0b2dnbGVDbGFzcyIsInBhcnNlSW50Iiwid2luZG93Iiwid2lkdGgiLCJzbGljayIsImluZmluaXRlIiwiYXJyb3dzIiwiZG90cyIsImRvdHNDbGFzcyIsInNsaWRlc1BlclJvdyIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiYXV0b3BsYXkiLCJhdXRvcGxheVNwZWVkIiwiYXV0b3BsYXlIb3ZlclBhdXNlIiwic3dpcGVUb1NsaWRlIiwiY2VudGVyTW9kZSIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImhlYWRlciIsImZpeGVkQ2xhc3MiLCJzY3JvbGwiLCJhZGRDbGFzcyIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtYWluTmF2IiwiYnVyZ2VyIiwib3BlbiIsIm92ZXJsYXkiLCJtb2RhbCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRvY3VtZW50Iiwia2V5Q29kZSIsInN5c3RlbSIsIkVTQyIsInF1ZXJ5U2VsZWN0b3IiLCJ5bWFwcyIsInJlYWR5IiwibWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbFpvb20iLCJjb250cm9scyIsInNlYXJjaENvbnRyb2xQcm92aWRlciIsIlBsYWNlbWFyayIsImJhbGxvb25Db250ZW50IiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZ2VvT2JqZWN0cyIsImFkZCIsImJlaGF2aW9ycyIsImRpc2FibGUiLCJnZXQiLCJzdGF0ZSIsIm9wdGlvbnMiLCJzZXQiLCJtYXNrIiwiYnV0dG9uT3BlbiIsImJ1dHRvbkNsb3NlIiwiY2xvc2VNb2RhbCIsImNvbnRlbnQiLCJvYmplY3RGaXRJbWFnZXMiLCJzdmc0ZXZlcnlib2R5IiwiTUVESVVNIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUNBLGFBRUFBLEVBQUEsV0FFQUEsRUFBQSxrQkFDQUMsR0FBQSxRQUFBLFdBQ0FELEVBQUEsY0FBQUUsUUFBQSxDQUFBQyxVQUFBLEdBQUEsWUFQQSxDQVdBQyxRQ1hBLFNBQUFKLEdBQ0EsYUFFQUEsRUFBQSxXQUVBLElBQUFLLEVBQUFMLEVBQUEsdUJBRUFNLEVBQUFOLEVBQUEsa0JBQ0FPLEVBQUEsT0FFQUYsRUFBQUcsTUFBQSxXQUNBUixFQUFBUyxNQUFBQyxRQUxBLGdCQUtBQyxLQUFBTCxHQUFBTSxZQUFBTCxHQUNBUCxFQUFBUyxNQUFBRyxZQUFBTCxPQVpBLENBZ0JBSCxRQ2hCQSxTQUFBSixHQUNBLGFBQ0FBLEVBQUEsV0FFQWEsU0FBQWIsRUFBQWMsUUFBQUMsU0FBQSxLQUNBZixFQUFBLHNCQUFBZ0IsTUFBQSxDQUNBQyxVQUFBLEVBQ0FDLFFBQUEsRUFDQUMsTUFBQSxFQUNBQyxVQUFBLGtDQUNBQyxhQUFBLEVBQ0FDLGFBQUEsRUFDQUMsZUFBQSxFQUNBQyxVQUFBLEVBQ0FDLGNBQUEsSUFDQUMsb0JBQUEsRUFDQUMsY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLFVBQUEsNEhBQ0FDLFVBQUEsZ0lBbkJBLENBeUJBMUIsUUN6QkEsU0FBQUosR0FDQSxhQUVBQSxFQUFBLFdBRUEsSUFBQStCLEVBQUEvQixFQUFBLFdBQ0FnQyxFQUFBLFFBR0FoQyxFQUFBYyxRQUFBbUIsT0FBQSxXQUZBLElBR0FqQyxFQUFBUyxNQUFBTixZQUNBNEIsRUFBQUcsU0FBQUYsR0FDQWhDLEVBQUFTLE1BQUFOLGFBTEEsS0FLQTRCLEVBQUFJLFNBQUFILElBQ0FELEVBQUFLLFlBQUFKLE9BYkEsQ0FrQkE1QixRQ2xCQSxTQUFBSixHQUNBLGFBRUFBLEVBQUEsV0FFQSxJQUFBcUMsRUFBQXJDLEVBQUEscUJBQ0FzQyxFQUFBdEMsRUFBQSxrQkFDQXVDLEVBQUEsT0FDQUMsRUFBQXhDLEVBQUEsWUFDQXlDLEVBQUF6QyxFQUFBLFVBRUFzQyxFQUFBckMsR0FBQSxRQUFBLFNBQUF5QyxHQUNBQSxFQUFBQyxpQkFDQUYsRUFBQU4sU0FBQUksS0FDQUYsRUFBQXpCLFlBQUEyQixHQUNBdkMsRUFBQVMsTUFBQUcsWUFBQTJCLEdBQ0FDLEVBQUE1QixZQUFBMkIsTUFXQXZDLEVBQUE0QyxVQUFBM0MsR0FBQSxRQUFBLFNBQUF5QyxHQUNBQSxFQUFBRyxTQUFBL0IsT0FBQWdDLE9BQUFDLE1BUEFWLEVBQUFELFlBQUFHLEdBQ0FELEVBQUFGLFlBQUFHLEdBQ0FDLEVBQUFKLFlBQUFHLFFBdkJBLENBa0NBbkMsUUNqQ0F3QyxTQUFBSSxjQUFBLFNBRUFDLE1BQUFDLE1BQUEsV0FDQSxJQUFBQyxFQUFBLElBQUFGLE1BQUFHLElBQUEsTUFBQSxDQUNBQyxPQUFBLENBQUEsVUFBQSxXQUNBQyxLQUFBLEdBQ0FDLFlBQUEsRUFDQUMsU0FBQSxJQUNBLENBQ0FDLHNCQUFBLGtCQUVBQyxFQUFBLElBQUFULE1BQUFTLFVBQUEsQ0FBQSxVQUFBLFdBQUEsQ0FDQUMsZUFBQSxrQ0FDQSxDQUNBQyxXQUFBLGdCQUNBQyxjQUFBLHNDQUNBQyxjQUFBLENBQUEsR0FBQSxJQUNBQyxnQkFBQSxFQUFBLElBQUEsTUFHQVosRUFBQWEsV0FBQUMsSUFBQVAsR0FDQVAsRUFBQWUsVUFBQUMsUUFBQSxjQUNBaEIsRUFBQUssU0FBQVMsSUFBQSxlQUNBZCxFQUFBSyxTQUFBWSxJQUFBLGVBQUFDLE1BQUFELElBQUEsUUFDQWpCLEVBQUFLLFNBQUFZLElBQUEsZUFBQUUsUUFBQUMsSUFBQSxPQUFBLFdDekJBLFNBQUF2RSxHQUNBLGFBRUFBLEVBQUEsV0FDQUEsRUFBQSxZQUFBd0UsS0FBQSxjQUNBeEUsRUFBQSxZQUFBd0UsS0FBQSxRQUNBeEUsRUFBQSxhQUFBd0UsS0FBQSx1QkFOQSxDQVNBcEUsUUNUQSxTQUFBSixHQUNBLGFBRUFBLEVBQUEsV0FFQSxJQUFBeUUsRUFBQXpFLEVBQUEsa0JBQ0EwRSxFQUFBMUUsRUFBQSxtQkFDQXlDLEVBQUF6QyxFQUFBLFVBQ0F3QyxFQUFBeEMsRUFBQSxZQUNBdUMsRUFBQSxPQUNBRixFQUFBckMsRUFBQSxxQkFFQTJFLEVBQUEsV0FDQWxDLEVBQUFMLFlBQUFHLEdBQ0FDLEVBQUFKLFlBQUFHLElBR0FrQyxFQUFBeEUsR0FBQSxRQUFBLFdBQ0FvQyxFQUFBRixTQUFBSSxLQUNBRSxFQUFBUCxTQUFBSyxHQUNBQyxFQUFBTixTQUFBSyxNQUlBbUMsRUFBQXpFLEdBQUEsUUFBQSxXQUNBMEUsTUFJQTNFLEVBQUE0QyxVQUFBM0MsR0FBQSxRQUFBLFNBQUF5QyxHQUNBQSxFQUFBRyxTQUFBL0IsT0FBQWdDLE9BQUFDLEtBQ0E0QixRQS9CQSxDQW9DQXZFLFFDcENBLFNBQUFKLEdBQ0EsYUFFQUEsRUFBQSxXQUVBLElBQUFLLEVBQUFMLEVBQUEsb0JBRUE0RSxFQUFBNUUsRUFBQSxxQkFDQXVDLEVBQUEsT0FFQWxDLEVBQUFHLE1BQUEsV0FDQVIsRUFBQVMsTUFBQUMsUUFMQSxhQUtBQyxLQUFBaUUsR0FBQWhFLFlBQUEyQixHQUNBdkMsRUFBQVMsTUFBQUcsWUFBQTJCLE9BWkEsQ0FnQkFuQyxRQ2hCQSxTQUFBSixHQUNBLGFBYUFJLE9BWEEsV0FFQVUsT0FBQStELGtCQUNBL0QsT0FBQWdFLGdCQUVBaEUsT0FBQWdDLE9BQUEsQ0FDQUMsSUFBQSxHQUNBZ0MsT0FBQSxPQVZBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdCQoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgYnV0dG9uID0gJCgnLmpzLWJ1dHRvbi10b3AnKTtcbiAgICBidXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCBcInNsb3dcIilcbiAgICB9KVxuXG5cdH0pO1xufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHQkKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGJ1dHRvbiA9ICQoJy5qcy1idXR0b24tZHJvcGRvd24nKTtcbiAgICB2YXIgZHJvcGRvd25DbGFzcyA9ICcuanMtZHJvcGRvd24nO1xuICAgIHZhciB0ZXh0Q29udGVudCA9ICQoJy50ZXh0LWRyb3Bkb3duJyk7XG4gICAgdmFyIG9wZW5DbGFzcyA9ICdvcGVuJztcblxuICAgIGJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoZHJvcGRvd25DbGFzcykuZmluZCh0ZXh0Q29udGVudCkudG9nZ2xlQ2xhc3Mob3BlbkNsYXNzKTtcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3Mob3BlbkNsYXNzKTtcbiAgICB9KVxuXG5cdH0pO1xufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0JChmdW5jdGlvbigpIHtcblxuICAgIGlmIChwYXJzZUludCgkKHdpbmRvdykud2lkdGgoKSkgPCA3NjgpIHtcbiAgICAgICQoJy5qcy1zbGljay1mZWF0dXJlcycpLnNsaWNrKHtcbiAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgZG90c0NsYXNzOiAnZmVhdHVyZXNfX3NsaWNrLWRvdHMgc2xpY2stZG90cycsXG4gICAgICAgIHNsaWRlc1BlclJvdzogMSxcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDMwMDAsXG4gICAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlLFxuICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcbiAgICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiBjbGFzcz1cImZlYXR1cmVzX19zbGljay1idXR0b24gZmVhdHVyZXNfX3NsaWNrLWJ1dHRvbl9wcmV2IHNsaWNrLWJ1dHRvbiBzbGljay1idXR0b25fcHJldlwiIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj4nLFxuICAgICAgICBuZXh0QXJyb3c6ICc8YnV0dG9uIGNsYXNzPVwiZmVhdHVyZXNfX3NsaWNrLWJ1dHRvbiBmZWF0dXJlc19fc2xpY2stYnV0dG9uX25leHQgc2xpY2stYnV0dG9uIHNsaWNrLWJ1dHRvbl9uZXh0XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicsXG4gICAgICB9KTtcbiAgICB9XG5cblxuXHR9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0JChmdW5jdGlvbigpIHtcblxuICAgIHZhciBoZWFkZXIgPSAkKCcuaGVhZGVyJyk7XG4gICAgdmFyIGZpeGVkQ2xhc3MgPSAnZml4ZWQnO1xuICAgIHZhciBTQ1JPTExfSEVJR0hUID0gMzAwO1xuXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xuICAgICAgaWYgKCAkKHRoaXMpLnNjcm9sbFRvcCgpID4gU0NST0xMX0hFSUdIVCApe1xuICAgICAgICBoZWFkZXIuYWRkQ2xhc3MoZml4ZWRDbGFzcyk7XG4gICAgICB9IGVsc2UgaWYoJCh0aGlzKS5zY3JvbGxUb3AoKSA8PSBTQ1JPTExfSEVJR0hUICYmIGhlYWRlci5oYXNDbGFzcyhmaXhlZENsYXNzKSkge1xuICAgICAgICBoZWFkZXIucmVtb3ZlQ2xhc3MoZml4ZWRDbGFzcyk7XG4gICAgICB9XG4gICAgfSk7XG5cblx0fSk7XG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdCQoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgbWFpbk5hdiA9ICQoJy5oZWFkZXJfX21haW4tbmF2Jyk7XG4gICAgdmFyIGJ1cmdlciA9ICQoJy5qcy10b2dnbGUtbmF2Jyk7XG4gICAgdmFyIG9wZW4gPSAnb3Blbic7XG4gICAgdmFyIG92ZXJsYXkgPSAkKCcub3ZlcmxheScpO1xuICAgIHZhciBtb2RhbCA9ICQoJy5tb2RhbCcpO1xuXG4gICAgYnVyZ2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghbW9kYWwuaGFzQ2xhc3Mob3BlbikpIHtcbiAgICAgICAgbWFpbk5hdi50b2dnbGVDbGFzcyhvcGVuKTtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhvcGVuKTtcbiAgICAgICAgb3ZlcmxheS50b2dnbGVDbGFzcyhvcGVuKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBjbG9zZU5hdiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1haW5OYXYucmVtb3ZlQ2xhc3Mob3Blbik7XG4gICAgICBidXJnZXIucmVtb3ZlQ2xhc3Mob3Blbik7XG4gICAgICBvdmVybGF5LnJlbW92ZUNsYXNzKG9wZW4pO1xuICAgIH1cblxuICAgIC8vINC30LDQutGA0YvQstCw0LXQvCDQvNC10L3RjiDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwIGVzY1xuICAgICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT0gd2luZG93LnN5c3RlbS5FU0MpIHtcbiAgICAgICAgY2xvc2VOYXYoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXHR9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgdmFyIG1hcNChb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYXBcIik7XG4gIGlmIChtYXDQoW9udGVudCkge1xuICAgIHltYXBzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtYXAgPSBuZXcgeW1hcHMuTWFwKCdtYXAnLCB7XG4gICAgICAgIGNlbnRlcjogWzU1LjgwMjI0OSwgMzcuNTQ5ODg0XSxcbiAgICAgICAgem9vbTogMTYsXG4gICAgICAgIHNjcm9sbFpvb206IGZhbHNlLFxuICAgICAgICBjb250cm9sczogW11cbiAgICAgIH0sIHtcbiAgICAgICAgc2VhcmNoQ29udHJvbFByb3ZpZGVyOiAneWFuZGV4I3NlYXJjaCdcbiAgICAgIH0pLFxuICAgICAgUGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuODAyMjQ5LCAzNy41NDk4ODRdLCB7XG4gICAgICAgIGJhbGxvb25Db250ZW50OiAn0JzQvtGB0LrQstCwLCAxLdGPINGD0LvQuNGG0LAgOCDQnNCw0YDRgtCwLCAz0LoyJ1xuICAgICAgfSwge1xuICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgIGljb25JbWFnZUhyZWY6ICdhc3NldHMvaW1hZ2VzL2ZvcnR1bmVyL3Bpbi1pY29uLnBuZycsXG4gICAgICAgIGljb25JbWFnZVNpemU6IFs4MCwgNDZdLFxuICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstNDAsIC00Nl0sXG4gICAgICB9KTtcblxuICAgICAgbWFwLmdlb09iamVjdHMuYWRkKFBsYWNlbWFyayk7XG4gICAgICBtYXAuYmVoYXZpb3JzLmRpc2FibGUoJ3Njcm9sbFpvb20nKTtcbiAgICAgIG1hcC5jb250cm9scy5hZGQoJ3pvb21Db250cm9sJyk7XG4gICAgICB2YXIgcm9hZGNvbnRyb2xTdGF0ZSA9IG1hcC5jb250cm9scy5nZXQoJ3pvb21Db250cm9sJykuc3RhdGUuZ2V0KCdzaXplJyk7XG4gICAgICBtYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuc2V0KCdzaXplJywgJ3NtYWxsJyk7XG4gICAgfSk7XG4gIH07XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdCQoZnVuY3Rpb24oKSB7XG4gICAgJCgnLmpzLWRhdGUnKS5tYXNrKFwiOTkvOTkvOTk5OVwiKTtcbiAgICAkKCcuanMteWVhcicpLm1hc2soXCI5OTk5XCIpO1xuICAgICQoJy5qcy1waG9uZScpLm1hc2soXCIrNyg5OTkpIDk5OS05OS05OVwiKTtcblx0fSk7XG5cbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0JChmdW5jdGlvbigpIHtcblxuICAgIHZhciBidXR0b25PcGVuID0gJCgnLmpzLW9wZW4tb3JkZXInKTtcbiAgICB2YXIgYnV0dG9uQ2xvc2UgPSAkKCcuanMtY2xvc2UtbW9kYWwnKTtcbiAgICB2YXIgbW9kYWwgPSAkKCcubW9kYWwnKTtcbiAgICB2YXIgb3ZlcmxheSA9ICQoJy5vdmVybGF5Jyk7XG4gICAgdmFyIG9wZW4gPSAnb3Blbic7XG4gICAgdmFyIG1haW5OYXYgPSAkKCcuaGVhZGVyX19tYWluLW5hdicpO1xuXG4gICAgdmFyIGNsb3NlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2RhbC5yZW1vdmVDbGFzcyhvcGVuKTtcbiAgICAgIG92ZXJsYXkucmVtb3ZlQ2xhc3Mob3Blbik7XG4gICAgfTtcblxuICAgIGJ1dHRvbk9wZW4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFtYWluTmF2Lmhhc0NsYXNzKG9wZW4pKSB7XG4gICAgICAgIG1vZGFsLmFkZENsYXNzKG9wZW4pO1xuICAgICAgICBvdmVybGF5LmFkZENsYXNzKG9wZW4pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYnV0dG9uQ2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY2xvc2VNb2RhbCgpO1xuICAgIH0pXG5cbiAgICAvLyDQt9Cw0LrRgNGL0LLQsNC10Lwg0LzQtdC90Y4g0L/RgNC4INC60LvQuNC60LUg0L3QsCBlc2NcbiAgICAkKGRvY3VtZW50KS5vbigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09IHdpbmRvdy5zeXN0ZW0uRVNDKSB7XG4gICAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuXHR9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0JChmdW5jdGlvbigpIHtcblxuICAgIHZhciBidXR0b24gPSAkKCcuanMtYnV0dG9uLXN0b2NrJyk7XG4gICAgdmFyIHN0b2NrID0gJy5qcy1zdG9jayc7XG4gICAgdmFyIGNvbnRlbnQgPSAkKCcuanMtY29udGVudC1zdG9jaycpO1xuICAgIHZhciBvcGVuID0gJ29wZW4nO1xuXG4gICAgYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICQodGhpcykucGFyZW50cyhzdG9jaykuZmluZChjb250ZW50KS50b2dnbGVDbGFzcyhvcGVuKTtcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3Mob3Blbik7XG4gICAgfSlcblxuXHR9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0JChmdW5jdGlvbigpIHtcblxuICAgIHdpbmRvdy5vYmplY3RGaXRJbWFnZXMoKTtcbiAgICB3aW5kb3cuc3ZnNGV2ZXJ5Ym9keSgpO1xuXG4gICAgd2luZG93LnN5c3RlbSA9IHtcbiAgICAgIEVTQzogMjcsXG4gICAgICBNRURJVU06IDc2NyxcbiAgICB9XG5cblx0fSk7XG59KShqUXVlcnkpO1xuIl19
